<div class="wrapper row">

  <section class="filter-section col-xl-2">
    <mat-expansion-panel class="filter mat-elevation-z0" [expanded]="largeScreen" [disabled]="isLoading">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Filter
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="filter">
        <div class="filter-actions">
          <button class="button primary" (click)="filter()">
            <mat-icon>filter_alt</mat-icon>
            Filter
          </button>
        </div>

        <div class="input-section">
          <label for="age">Min Age</label>
          <div class="num-input">
            <button mat-icon-button color="primary" (click)="minusMinAge()">
              <mat-icon>remove</mat-icon>
            </button>
            <input name="minAge" type="number" min="0" max="99" #age class="input"
              [(ngModel)]="minAge < 0 ? undefined : minAge" />
            <button mat-icon-button color="primary" (click)="plusMinAge()">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>

        <div class="input-section">
          <label for="age">Player</label>
          <div class="num-input">
            <input type="number" min="0" max="49" #age class="input" [(ngModel)]="player.min" />
            &nbsp;-&nbsp;
            <input type="number" min="1" max="50" #age class="input" [(ngModel)]="player.max" />
          </div>
        </div>

        <div class="input-section">
          <label for="age">Playtime (min)</label>
          <div class="num-input">
            <input type="number" min="0" max="999" #age class="input" [(ngModel)]="time.min" />
            &nbsp;-&nbsp;
            <input type="number" min="1" max="1000" #age class="input" [(ngModel)]="time.max" />
          </div>
        </div>
      </div>

    </mat-expansion-panel>
  </section>

  <section class="game-section col-xl-10" *ngIf="!isLoading && knn.length > 0">
    <h2>Our recommendation for you</h2>
    <div class="game-row">
      <app-game-card [game]="game" [activateDetails]="true" *ngFor="let game of knn"></app-game-card>
    </div>
  </section>

  <section class="game-section col-xl-10" *ngIf="!isLoading && commonBased.length > 0">
    <h2>People with the same taste as you play</h2>
    <div class="game-row">
      <app-game-card [game]="game" [activateDetails]="true" *ngFor="let game of commonBased"></app-game-card>
    </div>
  </section>

  <section class="game-section col-xl-10" *ngIf="!isLoading && itemBased.length > 0">
    <h2>Similar games to the ones you play so far</h2>
    <div class="game-row">
      <app-game-card [game]="game" [activateDetails]="true" *ngFor="let game of itemBased"></app-game-card>
    </div>
  </section>


  <section class="game-section col-xl-10" *ngIf="!isLoading && false">
    <h2>Top rated games on other plattforms</h2>
    <div class="game-row">
      <app-game-card [game]="game" [activateDetails]="true" *ngFor="let game of knn"></app-game-card>
    </div>
  </section>

  <section class="loading" *ngIf="isLoading">
    <h2>We are looking for games you will love!</h2>
    <app-loading></app-loading>
  </section>

</div>