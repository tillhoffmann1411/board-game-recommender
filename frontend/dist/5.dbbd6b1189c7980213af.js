(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lqJL:function(n,t,e){"use strict";e.r(t),e.d(t,"GamesModuleModule",function(){return V});var i=e("SVse"),a=e("5dmV"),o=e("s7LF"),c=e("iInd"),s=e("8Y7J"),r=e("qGrl"),g=e("Tj54");function m(n,t){if(1&n){const n=s.Sb();s.Rb(0,"span",2),s.Rb(1,"mat-icon",3),s.Yb("click",function(){s.mc(n);const e=t.index;return s.cc().rate(e)}),s.vc(2),s.Qb(),s.Qb()}if(2&n){const n=t.$implicit,e=s.cc();s.hc("ngClass",e.rating&&0===e.rating?"neutral":""),s.Bb(2),s.wc(n)}}let l=(()=>{class n{constructor(){this.numStars=5,this.rated=new s.o,this.stars=[]}ngOnInit(){this.rating=this.rating&&this.rating<0?0:this.rating,this.numStars=this.numStars<0?5:this.numStars,this.buildStars()}rate(n){this.rating=n+1,this.buildStars(),this.rated.emit(this.rating)}buildStars(){this.stars=[];for(let n=1;n<=this.numStars;n++)this.stars.push(this.rating&&n<=this.rating?"star":"star_outline")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Gb({type:n,selectors:[["app-star-rating"]],inputs:{numStars:"numStars",rating:"rating"},outputs:{rated:"rated"},decls:2,vars:1,consts:[[1,"star-row"],["class","star",3,"ngClass",4,"ngFor","ngForOf"],[1,"star",3,"ngClass"],[3,"click"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.uc(1,m,3,2,"span",1),s.Qb()),2&n&&(s.Bb(1),s.hc("ngForOf",t.stars))},directives:[i.j,i.i,g.a],styles:[".star-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.star[_ngcontent-%COMP%]{cursor:pointer;color:#ff8a1f;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.neutral[_ngcontent-%COMP%]{color:#000}"]}),n})();var b=e("ZFy/");function d(n,t){if(1&n){const n=s.Sb();s.Pb(0),s.Rb(1,"app-star-rating",4),s.Yb("rated",function(t){return s.mc(n),s.cc().rate(t)}),s.Qb(),s.Ob()}if(2&n){const n=s.cc();s.Bb(1),s.hc("numStars",10)("rating",n.rating)}}let p=(()=>{class n{constructor(n,t,e){this.router=n,this.route=t,this.gameStore=e,this.activateDetails=!1,this.deactivateRating=!1,this.rated=new s.o}ngOnInit(){}rate(n){this.gameStore.sendRating({game:this.game.id,rating:n}),this.rated.emit({game:this.game.id,rating:n})}openDetails(){this.router.navigate(["detail"],{relativeTo:this.route.parent,queryParams:{id:this.game.id}})}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(c.c),s.Mb(c.a),s.Mb(r.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-game-card"]],inputs:{game:"game",rating:"rating",activateDetails:"activateDetails",deactivateRating:"deactivateRating"},outputs:{rated:"rated"},decls:5,vars:5,consts:[[1,"card"],[3,"src","alt","ngClass","click"],[4,"ngIf"],[1,"name"],[1,"rating",3,"numStars","rating","rated"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.Rb(1,"img",1),s.Yb("click",function(){return t.activateDetails&&t.openDetails()}),s.Qb(),s.uc(2,d,2,2,"ng-container",2),s.Rb(3,"div",3),s.vc(4),s.Qb(),s.Qb()),2&n&&(s.Bb(1),s.hc("src",t.game.imageUrl,s.nc)("alt",t.game.name)("ngClass",t.activateDetails?"activatedDetails":""),s.Bb(1),s.hc("ngIf",!t.activateDetails&&!t.deactivateRating),s.Bb(2),s.wc(t.game.name))},directives:[i.i,i.k,l],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:10rem}img[_ngcontent-%COMP%]{width:9rem;height:9rem;margin:0 auto;border-radius:10px;box-shadow:0 0 15px #afafaf}.name[_ngcontent-%COMP%]{text-align:center;font-size:.95rem}.rating[_ngcontent-%COMP%]{margin-top:5px}.activatedDetails[_ngcontent-%COMP%]:hover{transform:scale(.99);box-shadow:0 0 10px #c5c5c5;cursor:pointer}.activatedDetails[_ngcontent-%COMP%]:active{cursor:pointer;transform:scale(.98)}@media only screen and (min-width:768px){.card[_ngcontent-%COMP%]{margin:1rem;width:18rem}img[_ngcontent-%COMP%]{width:16rem;height:16rem}.name[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})();function h(n,t){if(1&n&&(s.Rb(0,"span"),s.vc(1),s.Qb()),2&n){const n=s.cc(2);s.Bb(1),s.xc("(",n.game.yearPublished,")")}}const u=function(n){return{link:n}};function f(n,t){if(1&n){const n=s.Sb();s.Rb(0,"div",16),s.Yb("click",function(){s.mc(n);const e=t.$implicit;return s.cc(2).clickOnInfo(e)}),s.Rb(1,"mat-icon"),s.vc(2),s.Qb(),s.Rb(3,"div",17),s.vc(4),s.Qb(),s.Qb()}if(2&n){const n=t.$implicit;s.hc("matTooltip",n.description||"")("ngClass",s.ic(4,u,n.link)),s.Bb(2),s.wc(n.icon),s.Bb(2),s.wc(n.text)}}function M(n,t){if(1&n){const n=s.Sb();s.Rb(0,"div",22),s.Yb("click",function(){s.mc(n);const e=t.$implicit;return s.cc(3).clickOnInfo(e)}),s.Rb(1,"mat-icon"),s.vc(2),s.Qb(),s.Rb(3,"span"),s.vc(4),s.Qb(),s.Qb()}if(2&n){const n=t.$implicit;s.hc("ngClass",s.ic(3,u,n.link)),s.Bb(2),s.wc(n.icon),s.Bb(2),s.wc(n.text)}}function O(n,t){if(1&n&&(s.Rb(0,"div",18),s.Rb(1,"div",19),s.Nb(2,"img",20),s.Rb(3,"h3"),s.vc(4,"Board Game Atlas"),s.Qb(),s.Qb(),s.uc(5,M,5,5,"div",21),s.Qb()),2&n){const n=s.cc(2);s.Bb(5),s.hc("ngForOf",n.bgaInfos)}}function C(n,t){if(1&n){const n=s.Sb();s.Rb(0,"div",22),s.Yb("click",function(){s.mc(n);const e=t.$implicit;return s.cc(3).clickOnInfo(e)}),s.Rb(1,"mat-icon"),s.vc(2),s.Qb(),s.Rb(3,"span"),s.vc(4),s.Qb(),s.Qb()}if(2&n){const n=t.$implicit;s.hc("ngClass",s.ic(3,u,n.link)),s.Bb(2),s.wc(n.icon),s.Bb(2),s.wc(n.text)}}function P(n,t){if(1&n&&(s.Rb(0,"div",18),s.Rb(1,"div",19),s.Nb(2,"img",23),s.Rb(3,"h3"),s.vc(4,"Board Game Geek"),s.Qb(),s.Qb(),s.uc(5,C,5,5,"div",21),s.Qb()),2&n){const n=s.cc(2);s.Bb(5),s.hc("ngForOf",n.bggInfos)}}function v(n,t){if(1&n){const n=s.Sb();s.Rb(0,"section",4),s.Rb(1,"div",5),s.Nb(2,"img",6),s.Qb(),s.Rb(3,"div",7),s.Rb(4,"h1"),s.vc(5),s.uc(6,h,2,1,"span",8),s.Qb(),s.Rb(7,"div",9),s.uc(8,f,5,6,"div",10),s.Qb(),s.uc(9,O,6,1,"div",11),s.uc(10,P,6,1,"div",11),s.Qb(),s.Rb(11,"div",12),s.Rb(12,"app-star-rating",13),s.Yb("rated",function(t){return s.mc(n),s.cc().rate(t)}),s.Qb(),s.Rb(13,"div",14),s.Rb(14,"button",15),s.Yb("click",function(){return s.mc(n),s.cc().goToAmazon()}),s.vc(15,"Amazon"),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&n){const n=s.cc();s.Bb(2),s.hc("src",n.game.imageUrl,s.nc)("alt",n.game.name),s.Bb(3),s.xc("",n.game.name," "),s.Bb(1),s.hc("ngIf",n.game.yearPublished&&n.game.yearPublished>0),s.Bb(2),s.hc("ngForOf",n.gameInfos),s.Bb(1),s.hc("ngIf",n.bgaInfos.length>0),s.Bb(1),s.hc("ngIf",n.bggInfos.length>0),s.Bb(2),s.hc("numStars",10)("rating",n.rating)}}function _(n,t){if(1&n&&(s.Rb(0,"section",24),s.Rb(1,"h2"),s.vc(2,"Description"),s.Qb(),s.Rb(3,"p",25),s.vc(4),s.Qb(),s.Rb(5,"details",26),s.Rb(6,"summary"),s.vc(7),s.Qb(),s.Rb(8,"p",27),s.vc(9),s.Qb(),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.wc(n.game.description),s.Bb(3),s.wc(n.game.description),s.Bb(2),s.xc(" ",n.game.description," ")}}function R(n,t){1&n&&s.Nb(0,"app-game-card",31),2&n&&s.hc("game",t.$implicit)("deactivateRating",!0)}function y(n,t){if(1&n&&(s.Rb(0,"section",28),s.Rb(1,"h2"),s.vc(2,"Corresponding online games"),s.Qb(),s.Rb(3,"div",29),s.uc(4,R,1,2,"app-game-card",30),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.hc("ngForOf",n.onlineGames)}}let x=(()=>{class n{constructor(n,t,e){this.router=n,this.route=t,this.gameStore=e,this.onlineGames=[],this.gameInfos=[],this.bgaInfos=[],this.bggInfos=[],this.rating=0}ngOnInit(){this.route.queryParams.subscribe(n=>{n.id&&(this.paramId=n.id,this.gameStore.loadBoardGame(this.paramId))}),this.gameStore.getBoardGames.subscribe(n=>{this.paramId&&(this.game=n.find(n=>n.id==this.paramId)),this.gameStore.getRatings.subscribe(n=>{var t;const e=null===(t=n.find(n=>{var t;return n.game===(null===(t=this.game)||void 0===t?void 0:t.id)}))||void 0===t?void 0:t.rating;this.rating=e||0}),this.createGameInfos()}),this.onlineGames=[...this.onlineGames].splice(0,2),document.querySelector("mat-sidenav-content").scrollTop=0}rate(n){this.gameStore.sendRating({game:this.game.id,rating:n})}goToAmazon(){window.open("https://www.amazon.com/s?k="+this.game.name,"_blank")}clickOnInfo(n){n.link&&window.open(n.link,"_blank")}createGameInfos(){this.game&&(this.gameInfos=[],this.bgaInfos=[],this.bggInfos=[],this.game.minNumberOfPlayers&&this.gameInfos.push({icon:"groups",text:this.game.minNumberOfPlayers+" - "+this.game.maxNumberOfPlayers,description:"Number of players"}),this.game.minPlaytime&&this.gameInfos.push({icon:"access_time",text:this.game.minPlaytime+" - "+this.game.maxPlaytime,description:"Playtime in minutes"}),this.game.minAge&&this.gameInfos.push({icon:"person",text:this.game.minAge+"+",description:"Min age"}),this.game.officialUrl&&this.game.officialUrl.length>5&&this.gameInfos.push({icon:"link",text:"Website",description:"Link to official website",link:this.game.officialUrl}),this.game.bggRating&&this.bggInfos.push({icon:"stars",text:"Rating: "+this.game.bggRating.toPrecision(2)}),this.game.bggAvgRating&&this.bggInfos.push({icon:"stars",text:"Average Rating: "+this.game.bggAvgRating.toPrecision(2)}),this.game.bgaRating&&this.bgaInfos.push({icon:"stars",text:"Rating: "+this.game.bgaRating.toPrecision(2)}),this.game.bgaAvgRating&&this.bgaInfos.push({icon:"stars",text:"Average Rating: "+this.game.bgaAvgRating.toPrecision(2)}),this.game.bgaUrl&&this.bgaInfos.push({icon:"link",text:"Go to Website",description:"Link to Board Game Atlas",link:this.game.bgaUrl}))}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(c.c),s.Mb(c.a),s.Mb(r.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-detail"]],decls:4,vars:3,consts:[[1,"wrapper","row"],["class","top-section row",4,"ngIf"],["class","description-section row",4,"ngIf"],["class","game-section row",4,"ngIf"],[1,"top-section","row"],[1,"image","col-3"],[3,"src","alt"],[1,"game-info","col-7"],[4,"ngIf"],[1,"info-list"],["class","info-card",3,"matTooltip","ngClass","click",4,"ngFor","ngForOf"],["class","external-container",4,"ngIf"],[1,"actions","col-2"],[3,"numStars","rating","rated"],[1,"buttons"],[1,"primary",3,"click"],[1,"info-card",3,"matTooltip","ngClass","click"],[1,"text"],[1,"external-container"],[1,"title"],["src","https://image.winudf.com/v2/image1/Y29tLmF0bGFzYWxwaGEuYm9hcmRnYW1lYXRsYXNfaWNvbl8xNTYyODU4NjE4XzA4NA/icon.png?w=170&fakeurl=1","alt",""],["class","info-row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"info-row",3,"ngClass","click"],["src","https://pbs.twimg.com/profile_images/1158829646370226176/A2xzJhSc_400x400.jpg","alt",""],[1,"description-section","row"],[1,"long-description"],[1,"short-description"],[1,"content"],[1,"game-section","row"],[1,"game-list"],[3,"game","deactivateRating",4,"ngFor","ngForOf"],[3,"game","deactivateRating"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.uc(1,v,16,9,"section",1),s.uc(2,_,10,3,"section",2),s.uc(3,y,5,1,"section",3),s.Qb()),2&n&&(s.Bb(1),s.hc("ngIf",t.game),s.Bb(1),s.hc("ngIf",t.game&&t.game.description),s.Bb(1),s.hc("ngIf",t.onlineGames.length>0))},directives:[i.k,i.j,l,b.a,i.i,g.a,p],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem;padding:0 .25rem}.top-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding-left:1rem}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .info-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .info-list[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{padding:.5rem 1rem;display:flex;margin:.5rem;flex-direction:column;align-items:center;background:#d1e3f1;border-radius:10px;justify-content:center;transition:background-color .3s}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .info-list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{cursor:pointer}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .info-list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{background:#aacbe5}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]{padding:.5rem 1rem;display:flex;margin:.75rem .5rem;flex-direction:column;background:#d1e3f1;border-radius:10px;max-width:20rem}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto 1rem}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;padding:.5rem;border-radius:10px}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .external-container[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.top-section[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s}.top-section[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{background:#aacbe5}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;margin:1rem 0}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:1rem;align-self:center}.description-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem .5rem 3rem}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:none}.game-section[_ngcontent-%COMP%]{margin:5rem 0;padding:.5rem;background-color:#d1e3f1;border-radius:10px}.game-section[_ngcontent-%COMP%]   .game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:2rem;align-self:flex-end}.description-section[_ngcontent-%COMP%]{padding:0 3rem}.description-section[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:flex}}"]}),n})();var w=e("JX91"),Q=e("lJxs"),k=e("e6WT"),B=e("DPnb");let I=(()=>{class n{constructor(){this.options={path:"/assets/images/loading-dice.json"}}ngOnInit(){}animationCreated(n){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Gb({type:n,selectors:[["app-loading"]],decls:2,vars:1,consts:[[1,"loading-container"],[3,"options","animationCreated"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.Rb(1,"ng-lottie",1),s.Yb("animationCreated",function(n){return t.animationCreated(n)}),s.Qb(),s.Qb()),2&n&&(s.Bb(1),s.hc("options",t.options))},directives:[B.a],styles:[".loading-container[_ngcontent-%COMP%]{height:100%;width:100%}"]}),n})();function S(n,t){if(1&n&&(s.Rb(0,"h2"),s.vc(1),s.Qb()),2&n){const n=s.cc(2);s.Bb(1),s.xc("Give\xa0",5-n.ratings.length<0?0:5-n.ratings.length,"\xa0games you like or dislike")}}function G(n,t){if(1&n){const n=s.Sb();s.Rb(0,"section",5),s.uc(1,S,2,1,"h2",3),s.Rb(2,"div",6),s.Rb(3,"label",7),s.vc(4,"Search for games"),s.Qb(),s.Rb(5,"span",8),s.Nb(6,"input",9),s.Rb(7,"div",10),s.Rb(8,"button",11),s.Yb("click",function(){return s.mc(n),s.cc().next()}),s.vc(9," Next "),s.Rb(10,"mat-icon"),s.vc(11,"chevron_right"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&n){const n=s.cc();s.Bb(1),s.hc("ngIf",5-n.ratings.length>0),s.Bb(5),s.hc("formControl",n.searchControl),s.Bb(1),s.hc("matTooltip","Please rate at least"+(5-n.ratings.length)+" more games")("matTooltipDisabled",n.ratings.length>=5),s.Bb(1),s.hc("disabled",n.ratings.length<5)}}function F(n,t){if(1&n&&(s.Rb(0,"div"),s.Nb(1,"app-game-card",13),s.Qb()),2&n){const n=t.$implicit,e=s.cc(2);s.Bb(1),s.hc("game",n)("rating",e.getRatingForGame(n.id))}}function A(n,t){if(1&n&&(s.Pb(0),s.uc(1,F,2,2,"div",12),s.dc(2,"async"),s.Ob()),2&n){const n=s.cc();s.Bb(1),s.hc("ngForOf",s.ec(2,1,n.filteredGames))}}function L(n,t){1&n&&(s.Rb(0,"section",14),s.Rb(1,"h2"),s.vc(2,"Give us a second, we are loading all the greate games."),s.Qb(),s.Nb(3,"app-loading"),s.Qb())}let N=(()=>{class n{constructor(n,t,e){this.router=n,this.route=t,this.gameStore=e,this.searchControl=new o.c,this.ratings=[],this.isLoading=!0}ngOnInit(){this.gameStore.getRatings.subscribe(n=>this.ratings=n),this.gameStore.getBoardGames.subscribe(n=>{n.length>0&&(this.isLoading=!1),this.games=n,this.filteredGames=this.searchControl.valueChanges.pipe(Object(w.a)(""),Object(Q.a)(n=>this._filter(n)),Object(Q.a)(n=>n.slice(0,15)))})}getRatingForGame(n){var t;return null===(t=this.ratings.find(t=>t.game===n))||void 0===t?void 0:t.rating}next(){this.router.navigate(["recommendations"],{relativeTo:this.route}),this.gameStore.loadRecommendedCommonBased(),this.gameStore.loadRecommendedItemBased(),this.gameStore.loadRecommendedKNN(),this.gameStore.loadRecommendedPopularity()}_filter(n){const t=this._normalizeValue(n);return this.games.filter(n=>this._normalizeValue(n.name).includes(t))}_normalizeValue(n){return n.toLowerCase().replace(/\s/g,"")}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(c.c),s.Mb(c.a),s.Mb(r.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-questionnaire"]],decls:5,vars:3,consts:[[1,"wrapper","row"],["class","search-section row",4,"ngIf"],[1,"game-list","row"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"search-section","row"],[1,"input-section","col-xl-4"],["for","search"],[1,"input-line"],["matInput","","type","text","autofocus","","placeholder","Search...",1,"search-input",3,"formControl"],[3,"matTooltip","matTooltipDisabled"],[1,"primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"game","rating"],[1,"loading"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.uc(1,G,12,5,"section",1),s.Rb(2,"section",2),s.uc(3,A,3,3,"ng-container",3),s.Qb(),s.uc(4,L,4,0,"section",4),s.Qb()),2&n&&(s.Bb(1),s.hc("ngIf",!t.isLoading),s.Bb(2),s.hc("ngIf",!t.isLoading),s.Bb(1),s.hc("ngIf",t.isLoading))},directives:[i.k,k.a,o.a,o.j,o.d,b.a,g.a,i.j,p,I],pipes:[i.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.search-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;margin:.5rem;border-radius:10px;align-items:center}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;float:left}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;float:right}.game-list[_ngcontent-%COMP%]{justify-content:center}.game-list[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.loading[_ngcontent-%COMP%]{padding:1rem}@media only screen and (min-width:768px){.search-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}.game-list[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:row}}"]}),n})();var Y=e("Dxy4");function D(n,t){1&n&&s.Nb(0,"app-game-card",21),2&n&&s.hc("game",t.$implicit)("activateDetails",!0)}function j(n,t){if(1&n&&(s.Rb(0,"section",18),s.Rb(1,"h2"),s.vc(2,"Top Picks for you"),s.Qb(),s.Rb(3,"div",19),s.uc(4,D,1,2,"app-game-card",20),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.hc("ngForOf",n.knn)}}function T(n,t){1&n&&s.Nb(0,"app-game-card",21),2&n&&s.hc("game",t.$implicit)("activateDetails",!0)}function z(n,t){if(1&n&&(s.Rb(0,"section",18),s.Rb(1,"h2"),s.vc(2,"People like you play"),s.Qb(),s.Rb(3,"div",19),s.uc(4,T,1,2,"app-game-card",20),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.hc("ngForOf",n.commonBased)}}function K(n,t){1&n&&s.Nb(0,"app-game-card",21),2&n&&s.hc("game",t.$implicit)("activateDetails",!0)}function $(n,t){if(1&n&&(s.Rb(0,"section",18),s.Rb(1,"h2"),s.vc(2,"Suits your taste"),s.Qb(),s.Rb(3,"div",19),s.uc(4,K,1,2,"app-game-card",20),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.hc("ngForOf",n.itemBased)}}function J(n,t){1&n&&s.Nb(0,"app-game-card",21),2&n&&s.hc("game",t.$implicit)("activateDetails",!0)}function W(n,t){if(1&n&&(s.Rb(0,"section",18),s.Rb(1,"h2"),s.vc(2,"Trending"),s.Qb(),s.Rb(3,"div",19),s.uc(4,J,1,2,"app-game-card",20),s.Qb(),s.Qb()),2&n){const n=s.cc();s.Bb(4),s.hc("ngForOf",n.popularity)}}function U(n,t){1&n&&(s.Rb(0,"section",22),s.Rb(1,"h2"),s.vc(2,"We are looking for games you will love!"),s.Qb(),s.Nb(3,"app-loading"),s.Qb())}const q=[{path:"recommendations",component:(()=>{class n{constructor(n){this.gameService=n,this.commonBased=[],this.knn=[],this.itemBased=[],this.popularity=[],this.gameMap=new Map,this.isLoading=!1,this.largeScreen=document.body.clientWidth>768,this.minAge=0,this.player={min:0,max:0},this.time={min:0,max:0}}ngOnInit(){window.addEventListener("resize",n=>{this.largeScreen=document.body.clientWidth>768}),this.isLoading=!0,this.gameService.getBoardGames.subscribe(n=>{this.gameService.getRecommendedBoardGames.subscribe(t=>{n.length>0&&(t.commonBased.length>0||t.knn.length>0||t.itemBased.length>0)&&(this.isLoading=!1),n.forEach(n=>this.gameMap.set(n.id,n)),this.recommendations=t,this.commonBased=this.getGameListFromKeys(t.commonBased,this.gameMap),this.knn=this.getGameListFromKeys(t.knn,this.gameMap),this.itemBased=this.getGameListFromKeys(t.itemBased,this.gameMap),this.popularity=this.getGameListFromKeys(t.popularity,this.gameMap)})})}getGameListFromKeys(n,t){const e=[];if(n.length>0)for(let i=0;i<50&&n[i];i++){const a=t.get(n[i].gameKey);a&&e.push(a)}return e}minusMinAge(){this.minAge=this.minAge<0?-1:this.minAge-1}plusMinAge(){this.minAge=this.minAge>99?100:this.minAge+1}filter(){console.log(this.minAge,this.player,this.time);const n=new Map;this.gameMap.forEach((t,e)=>{t.minAge&&t.minAge>=this.minAge&&t.minNumberOfPlayers&&t.minNumberOfPlayers>=this.player.min&&(0===this.player.max||t.maxNumberOfPlayers&&t.maxNumberOfPlayers<=this.player.max)&&t.minPlaytime&&t.minPlaytime>=this.time.min&&(0===this.time.max||t.maxPlaytime&&t.maxPlaytime<=this.time.max)&&n.set(e,t)}),this.commonBased=this.getGameListFromKeys(this.recommendations.commonBased,n),this.knn=this.getGameListFromKeys(this.recommendations.knn,n),this.itemBased=this.getGameListFromKeys(this.recommendations.itemBased,n),this.popularity=this.getGameListFromKeys(this.recommendations.popularity,n)}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(r.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-recommendation"]],decls:46,vars:11,consts:[[1,"wrapper","row"],[1,"filter-section"],[1,"filter","col-l-2","col-xl-2",3,"open"],[1,"content","filter"],[1,"input-section"],["for","age"],[1,"num-input"],["mat-icon-button","","color","primary",3,"click"],["name","minAge","type","number","min","0","max","99",1,"input",3,"ngModel","ngModelChange"],["age",""],["type","number","min","0","max","49",1,"input",3,"ngModel","ngModelChange"],["type","number","min","1","max","50",1,"input",3,"ngModel","ngModelChange"],["type","number","min","0","max","999",1,"input",3,"ngModel","ngModelChange"],["type","number","min","1","max","1000",1,"input",3,"ngModel","ngModelChange"],[1,"filter-actions"],[1,"button","primary",3,"click"],["class","game-section col-l-10",4,"ngIf"],["class","loading",4,"ngIf"],[1,"game-section","col-l-10"],[1,"game-row"],[3,"game","activateDetails",4,"ngFor","ngForOf"],[3,"game","activateDetails"],[1,"loading"]],template:function(n,t){1&n&&(s.Rb(0,"div",0),s.Rb(1,"section",1),s.Rb(2,"details",2),s.Rb(3,"summary"),s.vc(4," Filter "),s.Qb(),s.Rb(5,"div",3),s.Rb(6,"div",4),s.Rb(7,"label",5),s.vc(8,"Min Age"),s.Qb(),s.Rb(9,"div",6),s.Rb(10,"button",7),s.Yb("click",function(){return t.minusMinAge()}),s.Rb(11,"mat-icon"),s.vc(12,"remove"),s.Qb(),s.Qb(),s.Rb(13,"input",8,9),s.Yb("ngModelChange",function(n){return t.minAge<0?void 0:t.minAge=n}),s.Qb(),s.Rb(15,"button",7),s.Yb("click",function(){return t.plusMinAge()}),s.Rb(16,"mat-icon"),s.vc(17,"add"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(18,"div",4),s.Rb(19,"label",5),s.vc(20,"Player"),s.Qb(),s.Rb(21,"div",6),s.Rb(22,"input",10,9),s.Yb("ngModelChange",function(n){return t.player.min=n}),s.Qb(),s.vc(24," \xa0-\xa0 "),s.Rb(25,"input",11,9),s.Yb("ngModelChange",function(n){return t.player.max=n}),s.Qb(),s.Qb(),s.Qb(),s.Rb(27,"div",4),s.Rb(28,"label",5),s.vc(29,"Playtime (min)"),s.Qb(),s.Rb(30,"div",6),s.Rb(31,"input",12,9),s.Yb("ngModelChange",function(n){return t.time.min=n}),s.Qb(),s.vc(33," \xa0-\xa0 "),s.Rb(34,"input",13,9),s.Yb("ngModelChange",function(n){return t.time.max=n}),s.Qb(),s.Qb(),s.Qb(),s.Rb(36,"div",14),s.Rb(37,"button",15),s.Yb("click",function(){return t.filter()}),s.Rb(38,"mat-icon"),s.vc(39,"filter_alt"),s.Qb(),s.vc(40," Filter "),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.uc(41,j,5,1,"section",16),s.uc(42,z,5,1,"section",16),s.uc(43,$,5,1,"section",16),s.uc(44,W,5,1,"section",16),s.uc(45,U,4,0,"section",17),s.Qb()),2&n&&(s.Bb(2),s.hc("open",t.largeScreen),s.Bb(11),s.hc("ngModel",t.minAge<0?void 0:t.minAge),s.Bb(9),s.hc("ngModel",t.player.min),s.Bb(3),s.hc("ngModel",t.player.max),s.Bb(6),s.hc("ngModel",t.time.min),s.Bb(3),s.hc("ngModel",t.time.max),s.Bb(7),s.hc("ngIf",!t.isLoading&&t.knn.length>0),s.Bb(1),s.hc("ngIf",!t.isLoading&&t.commonBased.length>0),s.Bb(1),s.hc("ngIf",!t.isLoading&&t.itemBased.length>0),s.Bb(1),s.hc("ngIf",!t.isLoading),s.Bb(1),s.hc("ngIf",t.isLoading))},directives:[Y.a,g.a,o.n,o.a,o.j,o.m,i.k,i.j,p,I],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.filter[_ngcontent-%COMP%]{padding:.2rem}.filter[_ngcontent-%COMP%]   .num-input[_ngcontent-%COMP%]{align-self:center;font-weight:500}.filter[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{text-align:center;margin:1rem 0}.game-section[_ngcontent-%COMP%]{margin-bottom:.3rem}.game-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0 .5rem}.game-section[_ngcontent-%COMP%]   .game-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;overflow-x:auto;background:#fff}.game-section[_ngcontent-%COMP%]   .game-row[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent;height:.5rem}.game-section[_ngcontent-%COMP%]   .game-row[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1e3f1;border-radius:10px}.loading[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;align-items:center}@media only screen and (min-width:768px){.wrapper[_ngcontent-%COMP%]{padding:1rem}.filter-section[_ngcontent-%COMP%]{padding:1rem 0}.game-section[_ngcontent-%COMP%]{float:right;padding:1rem}.game-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:0;background:transparent;height:.5rem}.game-section[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1e3f1;border-radius:10px}.filter-section[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{position:fixed}.filter-section[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .num-input[_ngcontent-%COMP%]{font-weight:500;align-items:baseline;display:flex}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:none}details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-radius:10px}}"]}),n})()},{path:"detail",component:x},{path:"",component:N}];let E=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[c.f.forChild(q)],c.f]}),n})(),V=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[i.c,a.a,E,o.g,o.o]]}),n})()}}]);