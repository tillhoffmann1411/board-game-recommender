(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lqJL:function(t,n,e){"use strict";e.r(n),e.d(n,"GamesModuleModule",function(){return D});var i=e("SVse"),a=e("5dmV"),c=e("s7LF"),s=e("iInd"),r=e("ORlT"),o=e("8Y7J"),g=e("qGrl"),l=e("Tj54");function m(t,n){if(1&t){const t=o.Sb();o.Rb(0,"span",2),o.Rb(1,"mat-icon",3),o.Yb("click",function(){o.lc(t);const e=n.index;return o.cc().rate(e)}),o.uc(2),o.Qb(),o.Qb()}if(2&t){const t=n.$implicit,e=o.cc();o.hc("ngClass",e.rating&&0===e.rating?"neutral":""),o.Bb(2),o.vc(t)}}let d=(()=>{class t{constructor(){this.numStars=5,this.rated=new o.o,this.stars=[]}ngOnInit(){this.rating=this.rating&&this.rating<0?0:this.rating,this.numStars=this.numStars<0?5:this.numStars,this.buildStars()}rate(t){this.rating=t+1,this.buildStars(),this.rated.emit(this.rating)}buildStars(){this.stars=[];for(let t=1;t<=this.numStars;t++)this.stars.push(this.rating&&t<=this.rating?"star":"star_outline")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-star-rating"]],inputs:{numStars:"numStars",rating:"rating"},outputs:{rated:"rated"},decls:2,vars:1,consts:[[1,"star-row"],["class","star",3,"ngClass",4,"ngFor","ngForOf"],[1,"star",3,"ngClass"],[3,"click"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.tc(1,m,3,2,"span",1),o.Qb()),2&t&&(o.Bb(1),o.hc("ngForOf",n.stars))},directives:[i.j,i.i,l.a],styles:[".star-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.star[_ngcontent-%COMP%]{cursor:pointer;color:#ff8a1f;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.neutral[_ngcontent-%COMP%]{color:#000}"]}),t})();var p=e("o4Yh");function b(t,n){if(1&t){const t=o.Sb();o.Rb(0,"app-star-rating",4),o.Yb("rated",function(n){return o.lc(t),o.cc().rate(n)}),o.Qb()}if(2&t){const t=o.cc();o.hc("numStars",10)("rating",t.rating)}}let u=(()=>{class t{constructor(t,n,e){this.router=t,this.route=n,this.gameStore=e,this.activateDetails=!1,this.deactivateRating=!1,this.rated=new o.o}ngOnInit(){}rate(t){this.gameStore.sendRating({game:this.game.id,rating:t}),this.rated.emit({game:this.game.id,rating:t})}openDetails(){this.router.navigate(["detail"],{relativeTo:this.route.parent,queryParams:{id:this.game.id}})}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(s.c),o.Mb(s.a),o.Mb(g.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-game-card"]],inputs:{game:"game",rating:"rating",activateDetails:"activateDetails",deactivateRating:"deactivateRating"},outputs:{rated:"rated"},decls:5,vars:5,consts:[[1,"card"],[3,"src","alt","ngClass","click"],["class","rating",3,"numStars","rating","rated",4,"ngIf"],[1,"name"],[1,"rating",3,"numStars","rating","rated"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.Rb(1,"img",1),o.Yb("click",function(){return n.activateDetails&&n.openDetails()}),o.Qb(),o.tc(2,b,1,2,"app-star-rating",2),o.Rb(3,"h2",3),o.uc(4),o.Qb(),o.Qb()),2&t&&(o.Bb(1),o.hc("src",n.game.imageUrl,o.mc)("alt",n.game.name)("ngClass",n.activateDetails?"activatedDetails":""),o.Bb(1),o.hc("ngIf",!n.activateDetails&&!n.deactivateRating),o.Bb(2),o.vc(n.game.name))},directives:[i.i,i.k,d],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem .5rem;width:18rem}img[_ngcontent-%COMP%]{width:16rem;height:16rem;margin:0 auto;border-radius:10px;box-shadow:10px -10px 20px #c5c5c5}.name[_ngcontent-%COMP%]{text-align:center}.rating[_ngcontent-%COMP%]{margin-top:5px}.activatedDetails[_ngcontent-%COMP%]:hover{transform:scale(.99);cursor:pointer}.activatedDetails[_ngcontent-%COMP%]:active{cursor:pointer;transform:scale(.98)}@media only screen and (min-width:768px){.card[_ngcontent-%COMP%]{margin:1rem}}"]}),t})();function h(t,n){if(1&t){const t=o.Sb();o.Rb(0,"section",6),o.Rb(1,"div",7),o.Nb(2,"img",8),o.Qb(),o.Rb(3,"div",9),o.Rb(4,"h1"),o.uc(5),o.Qb(),o.Rb(6,"div"),o.uc(7),o.Qb(),o.Rb(8,"div"),o.uc(9),o.Qb(),o.Rb(10,"div"),o.uc(11),o.Qb(),o.Qb(),o.Rb(12,"div",10),o.Rb(13,"app-star-rating",11),o.Yb("rated",function(n){return o.lc(t),o.cc().rate(n)}),o.Qb(),o.Qb(),o.Qb()}if(2&t){const t=o.cc();o.Bb(2),o.hc("src",t.game.imageUrl,o.mc)("alt",t.game.name),o.Bb(3),o.xc("",t.game.name," (",t.game.yearPublished,")"),o.Bb(2),o.xc("Playtime: ",t.game.minPlaytime," - ",t.game.maxPlaytime,""),o.Bb(2),o.xc("Player: ",t.game.minNumberOfPlayers," - ",t.game.maxNumberOfPlayers,""),o.Bb(2),o.wc("Age: ",t.game.minAge,"+"),o.Bb(2),o.hc("numStars",10)("rating",t.rating)}}function f(t,n){if(1&t&&(o.Rb(0,"section",12),o.Rb(1,"h2"),o.uc(2,"Description"),o.Qb(),o.Rb(3,"p",13),o.uc(4),o.Qb(),o.Rb(5,"div",14),o.Rb(6,"mat-expansion-panel",15),o.Rb(7,"mat-expansion-panel-header",16),o.Rb(8,"mat-panel-title"),o.Rb(9,"div"),o.uc(10),o.Qb(),o.Qb(),o.Qb(),o.uc(11),o.Qb(),o.Qb(),o.Qb()),2&t){const t=o.cc();o.Bb(4),o.vc(t.game.description),o.Bb(6),o.vc(t.game.description),o.Bb(1),o.wc(" ",t.game.description," ")}}function v(t,n){1&t&&o.Nb(0,"app-game-card",17),2&t&&o.hc("game",n.$implicit)("deactivateRating",!0)}let O=(()=>{class t{constructor(t,n,e){this.router=t,this.route=n,this.gameStore=e,this.onlineGames=r.a,this.rating=0}ngOnInit(){window.scrollTo(0,0),this.route.queryParams.subscribe(t=>{this.game=this.onlineGames.find(n=>n.id===parseInt(t.id))}),this.gameStore.getRatings.subscribe(t=>{var n;const e=null===(n=t.find(t=>{var n;return t.game===(null===(n=this.game)||void 0===n?void 0:n.id)}))||void 0===n?void 0:n.rating;this.rating=e||0}),this.onlineGames=[...this.onlineGames].splice(0,2)}rate(t){this.rating=t}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(s.c),o.Mb(s.a),o.Mb(g.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-detail"]],decls:8,vars:3,consts:[[1,"wrapper","row"],["class","top-section row",4,"ngIf"],["class","description-section row",4,"ngIf"],[1,"game-section","row"],[1,"game-list"],[3,"game","deactivateRating",4,"ngFor","ngForOf"],[1,"top-section","row"],[1,"image","col-3"],[3,"src","alt"],[1,"game-info","col-7"],[1,"actions","col-2"],[3,"numStars","rating","rated"],[1,"description-section","row"],[1,"long-description"],[1,"short-description"],[1,"mat-elevation-z0"],["collapsedHeight","80px","expandedHeight","30px"],[3,"game","deactivateRating"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.tc(1,h,14,11,"section",1),o.tc(2,f,12,3,"section",2),o.Rb(3,"section",3),o.Rb(4,"h2"),o.uc(5,"Corresponding online games"),o.Qb(),o.Rb(6,"div",4),o.tc(7,v,1,2,"app-game-card",5),o.Qb(),o.Qb(),o.Qb()),2&t&&(o.Bb(1),o.hc("ngIf",n.game),o.Bb(1),o.hc("ngIf",n.game),o.Bb(5),o.hc("ngForOf",n.onlineGames))},directives:[i.k,i.j,d,p.b,p.c,p.d,u],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem;padding:0 .25rem}.top-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding-left:1rem}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:1rem 0}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem}.description-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{max-height:53px;text-overflow:ellipsis}.description-section[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{display:block}.description-section[_ngcontent-%COMP%]   mat-expansion[_ngcontent-%COMP%]{display:flex;min-width:0}.game-section[_ngcontent-%COMP%]{margin:5rem 0;padding:.5rem;background-color:#daeaf6;border-radius:10px}.game-section[_ngcontent-%COMP%]   .game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}.description-section[_ngcontent-%COMP%]{padding:0 3rem}.description-section[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:flex}}"]}),t})();var C=e("JX91"),M=e("lJxs"),P=e("e6WT"),_=e("ZFy/"),w=e("DPnb");let R=(()=>{class t{constructor(){this.options={path:"/assets/images/loading-dice.json"}}ngOnInit(){}animationCreated(t){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-loading"]],decls:2,vars:1,consts:[[1,"loading-container"],[3,"options","animationCreated"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.Rb(1,"ng-lottie",1),o.Yb("animationCreated",function(t){return n.animationCreated(t)}),o.Qb(),o.Qb()),2&t&&(o.Bb(1),o.hc("options",n.options))},directives:[w.a],styles:[".loading-container[_ngcontent-%COMP%]{height:100%;width:100%}"]}),t})();function y(t,n){if(1&t){const t=o.Sb();o.Rb(0,"section",5),o.Rb(1,"h2"),o.uc(2),o.Qb(),o.Rb(3,"div",6),o.Rb(4,"label",7),o.uc(5,"Search for games"),o.Qb(),o.Rb(6,"span",8),o.Nb(7,"input",9),o.Rb(8,"div",10),o.Rb(9,"button",11),o.Yb("click",function(){return o.lc(t),o.cc().next()}),o.uc(10,"Next"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()}if(2&t){const t=o.cc();o.Bb(2),o.wc("Give\xa0",5-t.ratings.length<0?0:5-t.ratings.length,"\xa0games you like or dislike"),o.Bb(5),o.hc("formControl",t.searchControl),o.Bb(1),o.hc("matTooltip","Please rate at least"+(5-t.ratings.length)+" more games")("matTooltipDisabled",t.ratings.length>=5),o.Bb(1),o.hc("disabled",t.ratings.length<5)}}function x(t,n){if(1&t&&(o.Rb(0,"div"),o.Nb(1,"app-game-card",13),o.Qb()),2&t){const t=n.$implicit,e=o.cc(2);o.Bb(1),o.hc("game",t)("rating",e.getRatingForGame(t.id))}}function Q(t,n){if(1&t&&(o.Pb(0),o.tc(1,x,2,2,"div",12),o.dc(2,"async"),o.Ob()),2&t){const t=o.cc();o.Bb(1),o.hc("ngForOf",o.ec(2,1,t.filteredGames))}}function B(t,n){1&t&&(o.Rb(0,"section",14),o.Rb(1,"h2"),o.uc(2,"Give us a second, we are loading all the greate games."),o.Qb(),o.Nb(3,"app-loading"),o.Qb())}function S(t,n){if(1&t&&(o.Rb(0,"div"),o.Nb(1,"app-game-card",5),o.Qb()),2&t){const t=n.$implicit;o.Bb(1),o.hc("game",t)("activateDetails",!0)}}function I(t,n){if(1&t&&(o.Rb(0,"section",3),o.tc(1,S,2,2,"div",4),o.dc(2,"async"),o.Qb()),2&t){const t=o.cc();o.Bb(1),o.hc("ngForOf",o.ec(2,1,t.games))}}const G=[{path:"",component:(()=>{class t{constructor(t,n,e){this.router=t,this.route=n,this.gameService=e,this.searchControl=new c.c,this.ratings=[],this.isLoading=!0}ngOnInit(){this.gameService.getRatings.subscribe(t=>this.ratings=t),this.gameService.getBoardGames.subscribe(t=>{t.length>0&&(this.isLoading=!1),this.games=t,this.filteredGames=this.searchControl.valueChanges.pipe(Object(C.a)(""),Object(M.a)(t=>this._filter(t)),Object(M.a)(t=>t.slice(0,15)))})}getRatingForGame(t){var n;return null===(n=this.ratings.find(n=>n.game===t))||void 0===n?void 0:n.rating}next(){this.router.navigate(["recommendations"],{relativeTo:this.route})}_filter(t){const n=this._normalizeValue(t);return this.games.filter(t=>this._normalizeValue(t.name).includes(n))}_normalizeValue(t){return t.toLowerCase().replace(/\s/g,"")}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(s.c),o.Mb(s.a),o.Mb(g.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-questionnaire"]],decls:5,vars:3,consts:[[1,"wrapper","row"],["class","search-section row",4,"ngIf"],[1,"game-list","row"],[4,"ngIf"],["class","loading",4,"ngIf"],[1,"search-section","row"],[1,"input-section","col-l-4"],["for","search"],[1,"input-line"],["matInput","","type","text","autofocus","","placeholder","Search...",1,"search-input",3,"formControl"],[3,"matTooltip","matTooltipDisabled"],[1,"primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"game","rating"],[1,"loading"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.tc(1,y,11,5,"section",1),o.Rb(2,"section",2),o.tc(3,Q,3,3,"ng-container",3),o.Qb(),o.tc(4,B,4,0,"section",4),o.Qb()),2&t&&(o.Bb(1),o.hc("ngIf",!n.isLoading),o.Bb(2),o.hc("ngIf",!n.isLoading),o.Bb(1),o.hc("ngIf",n.isLoading))},directives:[i.k,P.a,c.a,c.j,c.d,_.a,i.j,u,R],pipes:[i.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.search-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;margin:.5rem;border-radius:10px;align-items:center}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;float:left}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;float:right}.game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.loading[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;align-items:center}@media only screen and (min-width:768px){.search-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"recommendations",component:(()=>{class t{constructor(t){this.gameService=t}ngOnInit(){this.gameService.loadRecommendedBoardGames(),this.games=this.gameService.getRecommendedBoardGames}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(g.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-recommendation"]],decls:5,vars:1,consts:[[1,"wrapper","row"],[1,"top-section","row"],["class","game-section row",4,"ngIf"],[1,"game-section","row"],[4,"ngFor","ngForOf"],[3,"game","activateDetails"]],template:function(t,n){1&t&&(o.Rb(0,"div",0),o.Rb(1,"section",1),o.Rb(2,"h2"),o.uc(3,"Our recommendations for you:"),o.Qb(),o.Qb(),o.tc(4,I,3,3,"section",2),o.Qb()),2&t&&(o.Bb(4),o.hc("ngIf",n.games))},directives:[i.k,i.j,u],pipes:[i.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.top-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.game-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"detail",component:O}];let k=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(n){return new(n||t)},imports:[[s.f.forChild(G)],s.f]}),t})(),D=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(n){return new(n||t)},imports:[[i.c,a.a,k,c.g,c.m]]}),t})()}}]);