(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{lqJL:function(t,e,n){"use strict";n.r(e),n.d(e,"GamesModuleModule",function(){return I});var a=n("SVse"),i=n("5dmV"),s=n("s7LF"),r=n("iInd"),c=n("ORlT"),o=n("8Y7J"),g=n("mrSG"),d=n("e1JD"),m=n("4FOh"),l=n("OvsG");let p=(()=>{class t{constructor(t){this.store=t}getBoardGamesSnapshot(){return this.store.selectSnapshot(t=>t).boardGames}getRecommendedBoardGamesSnapshot(){return this.store.selectSnapshot(t=>t).recommendedBoardGames}loadBoardGames(){this.store.dispatch(new l.a.LoadBoardGames)}loadRecommendedBoardGames(){this.store.dispatch(new l.a.LoadRecommendedBoardGames)}sendRating(t){this.store.dispatch(new l.a.SendRatings(t))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(d.g))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(g.b)([Object(d.d)(m.a.getBoardGames)],t.prototype,"getBoardGames",void 0),Object(g.b)([Object(d.d)(m.a.getRecommendedBoardGames)],t.prototype,"getRecommendedBoardGames",void 0),Object(g.b)([Object(d.d)(m.a.getRatings)],t.prototype,"getRatings",void 0),t})();var b=n("Tj54");function u(t,e){if(1&t){const t=o.Sb();o.Rb(0,"span",2),o.Rb(1,"mat-icon",3),o.Yb("click",function(){o.lc(t);const n=e.index;return o.cc().rate(n)}),o.uc(2),o.Qb(),o.Qb()}if(2&t){const t=e.$implicit,n=o.cc();o.hc("ngClass",0===n.rating?"neutral":""),o.Bb(2),o.vc(t)}}let h=(()=>{class t{constructor(){this.numStars=5,this.rating=0,this.rated=new o.o,this.stars=[]}ngOnInit(){this.rating=this.rating<0?0:this.rating,this.numStars=this.numStars<0?5:this.numStars,this.buildStars()}rate(t){this.rating=t+1,this.buildStars(),this.rated.emit(this.rating)}buildStars(){this.stars=[];for(let t=1;t<=this.numStars;t++)this.stars.push(t<=this.rating?"star":"star_outline")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-star-rating"]],inputs:{numStars:"numStars",rating:"rating"},outputs:{rated:"rated"},decls:2,vars:1,consts:[[1,"star-row"],["class","star",3,"ngClass",4,"ngFor","ngForOf"],[1,"star",3,"ngClass"],[3,"click"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.tc(1,u,3,2,"span",1),o.Qb()),2&t&&(o.Bb(1),o.hc("ngForOf",e.stars))},directives:[a.j,a.i,b.a],styles:[".star-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.star[_ngcontent-%COMP%]{cursor:pointer;color:#ff8a1f;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.neutral[_ngcontent-%COMP%]{color:#000}"]}),t})();var f=n("o4Yh");function O(t,e){if(1&t){const t=o.Sb();o.Rb(0,"app-star-rating",4),o.Yb("rated",function(e){return o.lc(t),o.cc().rate(e)}),o.Qb()}2&t&&o.hc("numStars",10)}let v=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameStore=n,this.taste="neutral",this.activateDetails=!1,this.deactivateRating=!1,this.rated=new o.o}ngOnInit(){}rate(t){this.gameStore.sendRating({gameId:this.game.id,rating:t}),this.rated.emit({gameId:this.game.id,rating:t})}openDetails(){console.log("id",this.game.id),this.router.navigate(["detail"],{relativeTo:this.route.parent,queryParams:{id:this.game.id}})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.c),o.Mb(r.a),o.Mb(p))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-game-card"]],inputs:{game:"game",taste:"taste",activateDetails:"activateDetails",deactivateRating:"deactivateRating"},outputs:{rated:"rated"},decls:5,vars:5,consts:[[1,"card"],[3,"src","alt","ngClass","click"],["class","rating",3,"numStars","rated",4,"ngIf"],[1,"name"],[1,"rating",3,"numStars","rated"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"img",1),o.Yb("click",function(){return e.activateDetails&&e.openDetails()}),o.Qb(),o.tc(2,O,1,1,"app-star-rating",2),o.Rb(3,"h2",3),o.uc(4),o.Qb(),o.Qb()),2&t&&(o.Bb(1),o.hc("src",e.game.imageUrl,o.mc)("alt",e.game.name)("ngClass",e.activateDetails?"activatedDetails":""),o.Bb(1),o.hc("ngIf",!e.activateDetails&&!e.deactivateRating),o.Bb(2),o.vc(e.game.name))},directives:[a.i,a.k,h],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem .5rem;width:18rem}img[_ngcontent-%COMP%]{width:16rem;height:16rem;margin:0 auto;border-radius:10px;box-shadow:10px -10px 20px #c5c5c5}.name[_ngcontent-%COMP%]{text-align:center}.rating[_ngcontent-%COMP%]{margin-top:5px}.activatedDetails[_ngcontent-%COMP%]:hover{transform:scale(.99);cursor:pointer}.activatedDetails[_ngcontent-%COMP%]:active{cursor:pointer;transform:scale(.98)}@media only screen and (min-width:768px){.card[_ngcontent-%COMP%]{margin:1rem}}"]}),t})();function C(t,e){if(1&t){const t=o.Sb();o.Rb(0,"section",6),o.Rb(1,"div",7),o.Nb(2,"img",8),o.Qb(),o.Rb(3,"div",9),o.Rb(4,"h1"),o.uc(5),o.Qb(),o.Rb(6,"div"),o.uc(7),o.Qb(),o.Rb(8,"div"),o.uc(9),o.Qb(),o.Rb(10,"div"),o.uc(11),o.Qb(),o.Qb(),o.Rb(12,"div",10),o.Rb(13,"app-star-rating",11),o.Yb("rated",function(e){return o.lc(t),o.cc().rate(e)}),o.Qb(),o.Qb(),o.Qb()}if(2&t){const t=o.cc();o.Bb(2),o.hc("src",t.game.imageUrl,o.mc)("alt",t.game.name),o.Bb(3),o.xc("",t.game.name," (",t.game.yearPublished,")"),o.Bb(2),o.xc("Playtime: ",t.game.minPlaytime," - ",t.game.maxPlaytime,""),o.Bb(2),o.xc("Player: ",t.game.minNumberOfPlayers," - ",t.game.maxNumberOfPlayers,""),o.Bb(2),o.wc("Age: ",t.game.minAge,"+"),o.Bb(2),o.hc("numStars",10)("rating",t.rating)}}function M(t,e){if(1&t&&(o.Rb(0,"section",12),o.Rb(1,"h2"),o.uc(2,"Description"),o.Qb(),o.Rb(3,"p",13),o.uc(4),o.Qb(),o.Rb(5,"div",14),o.Rb(6,"mat-expansion-panel",15),o.Rb(7,"mat-expansion-panel-header",16),o.Rb(8,"mat-panel-title"),o.Rb(9,"div"),o.uc(10),o.Qb(),o.Qb(),o.Qb(),o.uc(11),o.Qb(),o.Qb(),o.Qb()),2&t){const t=o.cc();o.Bb(4),o.vc(t.game.description),o.Bb(6),o.vc(t.game.description),o.Bb(1),o.wc(" ",t.game.description," ")}}function P(t,e){1&t&&o.Nb(0,"app-game-card",17),2&t&&o.hc("game",e.$implicit)("deactivateRating",!0)}let _=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameStore=n,this.onlineGames=c.a,this.rating=0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.game=this.onlineGames.find(e=>e.id===parseInt(t.id))}),this.gameStore.getRatings.subscribe(t=>{var e;const n=null===(e=t.find(t=>{var e;return t.gameId===(null===(e=this.game)||void 0===e?void 0:e.id)}))||void 0===e?void 0:e.rating;this.rating=n||0}),this.onlineGames=[...this.onlineGames].splice(0,2)}rate(t){this.rating=t}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.c),o.Mb(r.a),o.Mb(p))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-detail"]],decls:8,vars:3,consts:[[1,"wrapper","row"],["class","top-section row",4,"ngIf"],["class","description-section row",4,"ngIf"],[1,"game-section","row"],[1,"game-list"],[3,"game","deactivateRating",4,"ngFor","ngForOf"],[1,"top-section","row"],[1,"image","col-3"],[3,"src","alt"],[1,"game-info","col-7"],[1,"actions","col-2"],[3,"numStars","rating","rated"],[1,"description-section","row"],[1,"long-description"],[1,"short-description"],[1,"mat-elevation-z0"],["collapsedHeight","80px","expandedHeight","30px"],[3,"game","deactivateRating"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.tc(1,C,14,11,"section",1),o.tc(2,M,12,3,"section",2),o.Rb(3,"section",3),o.Rb(4,"h2"),o.uc(5,"Corresponding online games"),o.Qb(),o.Rb(6,"div",4),o.tc(7,P,1,2,"app-game-card",5),o.Qb(),o.Qb(),o.Qb()),2&t&&(o.Bb(1),o.hc("ngIf",e.game),o.Bb(1),o.hc("ngIf",e.game),o.Bb(5),o.hc("ngForOf",e.onlineGames))},directives:[a.k,a.j,h,f.b,f.c,f.d,v],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem;padding:0 .25rem}.top-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding-left:1rem}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:1rem 0}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem}.description-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{max-height:53px;text-overflow:ellipsis}.description-section[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{display:block}.description-section[_ngcontent-%COMP%]   mat-expansion[_ngcontent-%COMP%]{display:flex;min-width:0}.game-section[_ngcontent-%COMP%]{margin:5rem 0;padding:.5rem;background-color:#daeaf6;border-radius:10px}.game-section[_ngcontent-%COMP%]   .game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}.description-section[_ngcontent-%COMP%]{padding:0 3rem}.description-section[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:flex}}"]}),t})();var w=n("JX91"),R=n("lJxs"),y=n("e6WT"),x=n("ZFy/");function Q(t,e){if(1&t&&(o.Rb(0,"div"),o.Nb(1,"app-game-card",10),o.Qb()),2&t){const t=e.$implicit;o.Bb(1),o.hc("game",t)("taste","neutral")}}function B(t,e){if(1&t&&(o.Rb(0,"div"),o.Nb(1,"app-game-card",5),o.Qb()),2&t){const t=e.$implicit;o.Bb(1),o.hc("game",t)("taste","neutral")("activateDetails",!0)}}function S(t,e){if(1&t&&(o.Rb(0,"section",3),o.tc(1,B,2,3,"div",4),o.dc(2,"async"),o.Qb()),2&t){const t=o.cc();o.Bb(1),o.hc("ngForOf",o.ec(2,1,t.games))}}const G=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameService=n,this.searchControl=new s.c,this.ratings=[]}ngOnInit(){this.gameService.getRatings.subscribe(t=>this.ratings=t),this.gameService.getBoardGames.subscribe(t=>{0===t.length&&this.gameService.loadBoardGames(),this.games=t,this.filteredGames=this.searchControl.valueChanges.pipe(Object(w.a)(""),Object(R.a)(t=>this._filter(t)),Object(R.a)(t=>t.slice(0,15)))})}next(){this.router.navigate(["recommendations"],{relativeTo:this.route})}_filter(t){const e=this._normalizeValue(t);return this.games.filter(t=>this._normalizeValue(t.name).includes(e))}_normalizeValue(t){return t.toLowerCase().replace(/\s/g,"")}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.c),o.Mb(r.a),o.Mb(p))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-questionnaire"]],decls:16,vars:8,consts:[[1,"wrapper","row"],[1,"search-section","row"],[1,"input-section","col-l-4"],["for","search"],[1,"input-line"],["matInput","","type","text","autofocus","","placeholder","Search...",1,"search-input",3,"formControl"],[3,"matTooltip","matTooltipDisabled"],[1,"primary",3,"disabled","click"],[1,"game-list","row"],[4,"ngFor","ngForOf"],[3,"game","taste"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"section",1),o.Rb(2,"h2"),o.uc(3),o.Qb(),o.Rb(4,"div",2),o.Rb(5,"label",3),o.uc(6,"Search for games"),o.Qb(),o.Rb(7,"span",4),o.Nb(8,"input",5),o.Rb(9,"div",6),o.Rb(10,"button",7),o.Yb("click",function(){return e.next()}),o.uc(11,"Next"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(12,"section",8),o.Pb(13),o.tc(14,Q,2,2,"div",9),o.dc(15,"async"),o.Ob(),o.Qb(),o.Qb()),2&t&&(o.Bb(3),o.wc("Give\xa0",5-e.ratings.length<0?0:5-e.ratings.length,"\xa0games you like or dislike"),o.Bb(5),o.hc("formControl",e.searchControl),o.Bb(1),o.hc("matTooltip","Please rate at least"+(5-e.ratings.length)+" more games")("matTooltipDisabled",e.ratings.length>=5),o.Bb(1),o.hc("disabled",e.ratings.length<5),o.Bb(4),o.hc("ngForOf",o.ec(15,6,e.filteredGames)))},directives:[y.a,s.a,s.j,s.d,x.a,a.j,v],pipes:[a.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.search-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;margin:.5rem;border-radius:10px;align-items:center}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;float:left}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;float:right}.game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width:768px){.search-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"recommendations",component:(()=>{class t{constructor(t){this.gameService=t}ngOnInit(){this.gameService.loadRecommendedBoardGames(),this.games=this.gameService.getRecommendedBoardGames}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(p))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-recommendation"]],decls:5,vars:1,consts:[[1,"wrapper","row"],[1,"top-section","row"],["class","game-section row",4,"ngIf"],[1,"game-section","row"],[4,"ngFor","ngForOf"],[3,"game","taste","activateDetails"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"section",1),o.Rb(2,"h2"),o.uc(3,"Our recommendations for you:"),o.Qb(),o.Qb(),o.tc(4,S,3,3,"section",2),o.Qb()),2&t&&(o.Bb(4),o.hc("ngIf",e.games))},directives:[a.k,a.j,v],pipes:[a.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.top-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.game-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"detail",component:_}];let j=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(G)],r.f]}),t})(),I=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[a.c,i.a,j,s.g,s.m]]}),t})()}}]);