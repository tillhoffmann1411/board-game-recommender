(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{lqJL:function(t,e,n){"use strict";n.r(e),n.d(e,"GamesModuleModule",function(){return I});var a=n("SVse"),i=n("5dmV"),r=n("s7LF"),s=n("iInd"),o=n("ORlT"),c=n("8Y7J"),g=n("mrSG"),d=n("e1JD"),m=n("4FOh"),l=n("OvsG");let p=(()=>{class t{constructor(t){this.store=t}getBoardGamesSnapshot(){return this.store.selectSnapshot(t=>t).boardGames}getRecommendedBoardGamesSnapshot(){return this.store.selectSnapshot(t=>t).recommendedBoardGames}loadBoardGames(){this.store.dispatch(new l.a.LoadBoardGames)}loadRecommendedBoardGames(){this.store.dispatch(new l.a.LoadRecommendedBoardGames)}sendRating(t){this.store.dispatch(new l.a.SendRatings(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(d.g))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(g.b)([Object(d.d)(m.a.getBoardGames)],t.prototype,"getBoardGames",void 0),Object(g.b)([Object(d.d)(m.a.getRecommendedBoardGames)],t.prototype,"getRecommendedBoardGames",void 0),Object(g.b)([Object(d.d)(m.a.getRatings)],t.prototype,"getRatings",void 0),t})();var b=n("Tj54");function u(t,e){if(1&t){const t=c.Rb();c.Qb(0,"span",2),c.Qb(1,"mat-icon",3),c.Xb("click",function(){c.ic(t);const n=e.index;return c.Zb().rate(n)}),c.rc(2),c.Pb(),c.Pb()}if(2&t){const t=e.$implicit,n=c.Zb();c.ec("ngClass",0===n.rating?"neutral":""),c.Bb(2),c.sc(t)}}let h=(()=>{class t{constructor(){this.numStars=5,this.rating=0,this.rated=new c.o,this.stars=[]}ngOnInit(){this.rating=this.rating<0?0:this.rating,this.numStars=this.numStars<0?5:this.numStars,this.buildStars()}rate(t){this.rating=t+1,this.buildStars(),this.rated.emit(this.rating)}buildStars(){this.stars=[];for(let t=1;t<=this.numStars;t++)this.stars.push(t<=this.rating?"star":"star_outline")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["app-star-rating"]],inputs:{numStars:"numStars",rating:"rating"},outputs:{rated:"rated"},decls:2,vars:1,consts:[[1,"star-row"],["class","star",3,"ngClass",4,"ngFor","ngForOf"],[1,"star",3,"ngClass"],[3,"click"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.qc(1,u,3,2,"span",1),c.Pb()),2&t&&(c.Bb(1),c.ec("ngForOf",e.stars))},directives:[a.j,a.i,b.a],styles:[".star-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.star[_ngcontent-%COMP%]{cursor:pointer;color:#ff8a1f;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.neutral[_ngcontent-%COMP%]{color:#000}"]}),t})();var P=n("o4Yh"),f=n("PDjf");function O(t,e){if(1&t){const t=c.Rb();c.Qb(0,"mat-card-actions"),c.Qb(1,"app-star-rating",4),c.Xb("rated",function(e){return c.ic(t),c.Zb().rate(e)}),c.Pb(),c.Pb()}2&t&&(c.Bb(1),c.ec("numStars",10))}let v=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameStore=n,this.taste="neutral",this.activateDetails=!1,this.deactivateRating=!1,this.rated=new c.o}ngOnInit(){}rate(t){this.gameStore.sendRating({gameId:this.game.id,rating:t}),this.rated.emit({gameId:this.game.id,rating:t})}openDetails(){console.log("id",this.game.id),this.router.navigate(["detail"],{relativeTo:this.route.parent,queryParams:{id:this.game.id}})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(s.c),c.Lb(s.a),c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-game-card"]],inputs:{game:"game",taste:"taste",activateDetails:"activateDetails",deactivateRating:"deactivateRating"},outputs:{rated:"rated"},decls:11,vars:6,consts:[[1,"card","mat-elevation-z0",3,"ngClass","click"],[1,"image"],["mat-card-image","",3,"src","alt"],[4,"ngIf"],[3,"numStars","rated"]],template:function(t,e){1&t&&(c.Qb(0,"mat-card",0),c.Xb("click",function(){return e.activateDetails&&e.openDetails()}),c.Ob(1),c.Qb(2,"mat-card-title"),c.Qb(3,"div",1),c.Mb(4,"img",2),c.Pb(),c.Pb(),c.Qb(5,"mat-card-content"),c.Qb(6,"h2"),c.rc(7),c.Pb(),c.Qb(8,"p"),c.rc(9),c.Pb(),c.Pb(),c.Nb(),c.qc(10,O,2,1,"mat-card-actions",3),c.Pb()),2&t&&(c.ec("ngClass",e.activateDetails?"activatedDetails":""),c.Bb(4),c.ec("src",e.game.imageUrl,c.jc)("alt",e.game.name),c.Bb(3),c.sc(e.game.name),c.Bb(2),c.tc(" ",e.game.description," "),c.Bb(1),c.ec("ngIf",!e.activateDetails&&!e.deactivateRating))},directives:[f.a,a.i,f.f,f.d,f.c,a.k,f.b,h],styles:[".card[_ngcontent-%COMP%]{margin:1rem .5rem;border-radius:10px;min-width:12rem}.card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;height:10rem}.mat-card-content[_ngcontent-%COMP%]{height:8rem;text-overflow:ellipsis;overflow:hidden}.liked[_ngcontent-%COMP%]{color:green}.disliked[_ngcontent-%COMP%]{color:red}.activatedDetails[_ngcontent-%COMP%]:hover{background-color:#e4e4e4;cursor:pointer;transform:scale(.99)}.activatedDetails[_ngcontent-%COMP%]:active{background-color:#ccc;cursor:pointer;transform:scale(.98)}@media only screen and (min-width:768px){.card[_ngcontent-%COMP%]{width:18rem;margin:1rem}}"]}),t})();function C(t,e){if(1&t){const t=c.Rb();c.Qb(0,"section",6),c.Qb(1,"div",7),c.Mb(2,"img",8),c.Pb(),c.Qb(3,"div",9),c.Qb(4,"h1"),c.rc(5),c.Pb(),c.Qb(6,"div"),c.rc(7),c.Pb(),c.Qb(8,"div"),c.rc(9),c.Pb(),c.Qb(10,"div"),c.rc(11),c.Pb(),c.Pb(),c.Qb(12,"div",10),c.Qb(13,"app-star-rating",11),c.Xb("rated",function(e){return c.ic(t),c.Zb().rate(e)}),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.Zb();c.Bb(2),c.ec("src",t.game.imageUrl,c.jc)("alt",t.game.name),c.Bb(3),c.uc("",t.game.name," (",t.game.yearPublished,")"),c.Bb(2),c.uc("Playtime: ",t.game.minPlaytime," - ",t.game.maxPlaytime,""),c.Bb(2),c.uc("Player: ",t.game.minNumberOfPlayers," - ",t.game.maxNumberOfPlayers,""),c.Bb(2),c.tc("Age: ",t.game.minAge,"+"),c.Bb(2),c.ec("numStars",10)("rating",t.rating)}}function M(t,e){if(1&t&&(c.Qb(0,"section",12),c.Qb(1,"h2"),c.rc(2,"Description"),c.Pb(),c.Qb(3,"p",13),c.rc(4),c.Pb(),c.Qb(5,"div",14),c.Qb(6,"mat-expansion-panel",15),c.Qb(7,"mat-expansion-panel-header",16),c.Qb(8,"mat-panel-title"),c.Qb(9,"div"),c.rc(10),c.Pb(),c.Pb(),c.Pb(),c.rc(11),c.Pb(),c.Pb(),c.Pb()),2&t){const t=c.Zb();c.Bb(4),c.sc(t.game.description),c.Bb(6),c.sc(t.game.description),c.Bb(1),c.tc(" ",t.game.description," ")}}function _(t,e){1&t&&c.Mb(0,"app-game-card",17),2&t&&c.ec("game",e.$implicit)("deactivateRating",!0)}let w=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameStore=n,this.onlineGames=o.a,this.rating=0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.game=this.onlineGames.find(e=>e.id===parseInt(t.id))}),this.gameStore.getRatings.subscribe(t=>{var e;const n=null===(e=t.find(t=>{var e;return t.gameId===(null===(e=this.game)||void 0===e?void 0:e.id)}))||void 0===e?void 0:e.rating;this.rating=n||0}),this.onlineGames=[...this.onlineGames].splice(0,2)}rate(t){this.rating=t}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(s.c),c.Lb(s.a),c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-detail"]],decls:8,vars:3,consts:[[1,"wrapper","row"],["class","top-section row",4,"ngIf"],["class","description-section row",4,"ngIf"],[1,"game-section","row"],[1,"game-list"],[3,"game","deactivateRating",4,"ngFor","ngForOf"],[1,"top-section","row"],[1,"image","col-3"],[3,"src","alt"],[1,"game-info","col-7"],[1,"actions","col-2"],[3,"numStars","rating","rated"],[1,"description-section","row"],[1,"long-description"],[1,"short-description"],[1,"mat-elevation-z0"],["collapsedHeight","80px","expandedHeight","30px"],[3,"game","deactivateRating"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.qc(1,C,14,11,"section",1),c.qc(2,M,12,3,"section",2),c.Qb(3,"section",3),c.Qb(4,"h2"),c.rc(5,"Corresponding online games"),c.Pb(),c.Qb(6,"div",4),c.qc(7,_,1,2,"app-game-card",5),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Bb(1),c.ec("ngIf",e.game),c.Bb(1),c.ec("ngIf",e.game),c.Bb(5),c.ec("ngForOf",e.onlineGames))},directives:[a.k,a.j,h,P.b,P.c,P.d,v],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.top-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.top-section[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding-left:1rem}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:1rem 0}.top-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem}.description-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{max-height:53px;text-overflow:ellipsis}.description-section[_ngcontent-%COMP%]   .mat-expanded[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{display:block}.description-section[_ngcontent-%COMP%]   mat-expansion[_ngcontent-%COMP%]{display:flex;min-width:0}.game-section[_ngcontent-%COMP%]{margin:5rem .25rem;padding:.5rem;background-color:#daeaf6;border-radius:10px}.game-section[_ngcontent-%COMP%]   .game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}.description-section[_ngcontent-%COMP%]{padding:0 3rem}.description-section[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{display:none}.description-section[_ngcontent-%COMP%]   .long-description[_ngcontent-%COMP%]{display:flex}}"]}),t})();var y=n("JX91"),Q=n("lJxs"),x=n("e6WT"),B=n("ZFy/");function S(t,e){if(1&t&&(c.Qb(0,"div"),c.Mb(1,"app-game-card",10),c.Pb()),2&t){const t=e.$implicit;c.Bb(1),c.ec("game",t)("taste","neutral")}}function G(t,e){if(1&t&&(c.Qb(0,"div"),c.Mb(1,"app-game-card",5),c.Pb()),2&t){const t=e.$implicit;c.Bb(1),c.ec("game",t)("taste","neutral")("activateDetails",!0)}}function R(t,e){if(1&t&&(c.Qb(0,"section",3),c.qc(1,G,2,3,"div",4),c.ac(2,"async"),c.Pb()),2&t){const t=c.Zb();c.Bb(1),c.ec("ngForOf",c.bc(2,1,t.games))}}const j=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.gameService=n,this.searchControl=new r.c,this.ratings=[]}ngOnInit(){this.gameService.loadBoardGames(),this.gameService.getRatings.subscribe(t=>this.ratings=t),this.gameService.getBoardGames.subscribe(t=>{this.games=t,this.filteredGames=this.searchControl.valueChanges.pipe(Object(y.a)(""),Object(Q.a)(t=>this._filter(t)))})}next(){this.router.navigate(["recommendations"],{relativeTo:this.route})}_filter(t){const e=this._normalizeValue(t);return this.games.filter(t=>this._normalizeValue(t.name).includes(e))}_normalizeValue(t){return t.toLowerCase().replace(/\s/g,"")}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(s.c),c.Lb(s.a),c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-questionnaire"]],decls:15,vars:8,consts:[[1,"wrapper","row"],[1,"search-section","row"],[1,"input-section","col-l-4"],["for","search"],[1,"input-line"],["matInput","","type","text","autofocus","","placeholder","Search...",1,"search-input",3,"formControl"],[3,"matTooltip","matTooltipDisabled"],[1,"primary",3,"disabled","click"],[1,"game-list","row"],[4,"ngFor","ngForOf"],[3,"game","taste"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"section",1),c.Qb(2,"h2"),c.rc(3),c.Pb(),c.Qb(4,"div",2),c.Qb(5,"label",3),c.rc(6,"Search for games"),c.Pb(),c.Qb(7,"span",4),c.Mb(8,"input",5),c.Qb(9,"div",6),c.Qb(10,"button",7),c.Xb("click",function(){return e.next()}),c.rc(11,"Next"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(12,"section",8),c.qc(13,S,2,2,"div",9),c.ac(14,"async"),c.Pb(),c.Pb()),2&t&&(c.Bb(3),c.tc("Give\xa0",5-e.ratings.length<0?0:5-e.ratings.length,"\xa0games you like or dislike"),c.Bb(5),c.ec("formControl",e.searchControl),c.Bb(1),c.ec("matTooltip","Please rate at least"+(5-e.ratings.length)+" more games")("matTooltipDisabled",e.ratings.length>=5),c.Bb(1),c.ec("disabled",e.ratings.length<5),c.Bb(3),c.ec("ngForOf",c.bc(14,6,e.filteredGames)))},directives:[x.a,r.a,r.j,r.d,B.a,a.j,v],pipes:[a.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.search-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;margin:.5rem;background:#daeaf6;border-radius:10px;align-items:center}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;float:left}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.search-section[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;float:right}.game-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width:768px){.search-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"recommendations",component:(()=>{class t{constructor(t){this.gameService=t}ngOnInit(){this.gameService.loadRecommendedBoardGames(),this.games=this.gameService.getRecommendedBoardGames}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(p))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-recommendation"]],decls:5,vars:1,consts:[[1,"wrapper","row"],[1,"top-section","row"],["class","game-section row",4,"ngIf"],[1,"game-section","row"],[4,"ngFor","ngForOf"],[3,"game","taste","activateDetails"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"section",1),c.Qb(2,"h2"),c.rc(3,"Our recommendations for you:"),c.Pb(),c.Pb(),c.qc(4,R,3,3,"section",2),c.Pb()),2&t&&(c.Bb(4),c.ec("ngIf",e.games))},directives:[a.k,a.j,v],pipes:[a.b],styles:[".wrapper[_ngcontent-%COMP%]{margin-top:4rem}.top-section[_ngcontent-%COMP%]{padding:.5rem;margin:.5rem}.game-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}@media only screen and (min-width:768px){.top-section[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{padding:2rem}}"]}),t})()},{path:"detail",component:w}];let k=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[s.f.forChild(j)],s.f]}),t})(),I=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[a.c,i.a,k,r.g,r.m]]}),t})()}}]);